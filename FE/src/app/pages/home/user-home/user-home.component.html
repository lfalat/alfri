<ng-container>
  <div class="card">
    <div class="card-header">
      <h2 class="card-title mb-0">Dotazník študenta</h2>
    </div>
    <div class="card-body">

      <ng-container *ngIf="loading; else finishedLoading" class="row">
        <ngx-skeleton-loader count="5" appearance="line"></ngx-skeleton-loader>
        <div class="mt-3">
          <ngx-skeleton-loader count="5" appearance="line" [theme]="{
          'height.px': 50,
        }"></ngx-skeleton-loader>
        </div>
        <div class="mt-3 col-12 col-md-6">
          <ngx-skeleton-loader count="1" appearance="circle" [theme]="{
      'width.%': 50,
      'height.%': 50,
      'min-height.px': 100,
      'aspect-ratio': '1 / 1',
      'clip-path': 'polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)'
    }"></ngx-skeleton-loader>

        </div>
      </ng-container>

      <ng-template #finishedLoading>
      <ng-container *ngIf="!formData; else content">
        <div class="alert alert-primary" role="alert">
          Ešte nemáš vyplnený dotazník! Povedz nám niečo o sebe, aby sme ti
          mohli zobraziť relevantnejšie dáta.
        </div>
        <div class="d-flex justify-content-center">
          <img
            ngSrc="assets/images/brain_q.png"
            priority
            alt="Brain"
            class="img-fluid middle"
            height="400"
            width="400"
          />
        </div>
        <div class="d-flex justify-content-end">
          <button
            mat-raised-button
            color="primary"
            (click)="redirectToUserForm()"
          >
            Vyplnit dotaznik
          </button>
        </div>
      </ng-container>

      <ng-template #content>
        <app-user-form-results [existingAnswers]="formData" />
      </ng-template>
      </ng-template>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <h2 class="card-title mb-0">Wordcloud slov</h2>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-12">
          <div id="wordcloud-chart" class="wordcloud-container"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <h2 class="card-title mb-0">Najpopularnejsie oblasti predmetov</h2>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-12">
          <canvas style="max-height: 500px" id="pieChart"></canvas>
        </div>
      </div>
    </div>
  </div>

</ng-container>
